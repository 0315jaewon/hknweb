{% extends "base.html" %}
{% load static %}

{% block title %}Tutoring{% endblock %}

{% block header %}
  <link rel='stylesheet' href="http://unpkg.com/fullcalendar/dist/fullcalendar.min.css" />
  <script src="http://unpkg.com/moment/min/moment.min.js"></script>
  <script src="http://unpkg.com/jquery/dist/jquery.slim.min.js"></script>

{% endblock %}


{% block content %}
<style>
table {
    width: auto;
}

th {
    width: 100px;
    text-align: center;
    padding: 15px;
    border-bottom: 1px solid #ddd;
}

td {
    height: auto;
    text-align: center;
    padding: 15px;
    border-bottom: 1px solid #ddd;
}

.slider-container {
    padding: 10px 15px;
}

.tooltip {
    position: relative;
    display: inline-block;
}

/* Tooltip text */
.tooltip .tooltiptext {
    visibility: hidden;
    width: 120px;
    background-color: black;
    color: #fff;
    text-align: center;
    padding: 5px 0;
    border-radius: 6px;
    width: 120px;
    bottom: 100%;
    left: 50%;
    margin-left: -60px; /* Use half of the width (120/2 = 60), to center the tooltip */

    /* Position the tooltip text - see examples below! */
    position: absolute;
    z-index: 1;
}

li {
    padding-bottom: 5px;
}
/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
    visibility: visible;
}

</style>

<div class="center measure-very-wide pv4">
<h1 class="font-title f3 f2-ns tc">Tutoring Schedule</h1>
<table class="font-body">
    <tr>
        <th>Hours</th>
        {% for day in days %}
            <th> {{ day }} </th>
        {% endfor %}
    </tr>

    {% for hour in hours %}
        {% if hour < 12 %}
            {% start_suffix = "am" %}
        {% else %}
            {% start_suffix = "pm" %}
        {% endif %}
        {% start_str = hour | stringformat:"d" | add:start_suffix %}

        {% end = hour + 1 %}
        {% if end < 12 %}
            {% end_suffix = "am" %}
        {% else %}
            {% end_suffix = "pm" %}
        {% endif %}
        {% end_str = end | stringformat:"d" | add:end_suffix %}

        <tr>
            <td> {{start_str}} - {{end_str}} </td>
            {% for slot in cory_slots[hour] %}
                <td>
                {% for tutor in slot.tutor_set.all %}
                    <li class="tooltip">{{tutor.name}}
                        <span class="tooltiptext">
                            {% for course in tutor.courses.all %}
                                {{course.name}}
                            {% endfor %}
                        </span>
                    </li>
                {% endfor %}
                </td>
            {% endfor %}
        </tr>
    {% endfor %}
</table>
</div>
{% endblock %}
