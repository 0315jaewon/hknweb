{% extends "base.html" %}
{% load static %}
{% block title %}Exam archive{% endblock %}

{% block header %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js" integrity="sha256-AFAYEOkzB6iIKnTYZOdUf9FFje6lOTYdwRJKwTN5mks=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" integrity="sha256-FdatTf20PQr/rWg+cAKfl6j4/IY3oohFAJ7gVC3M34E=" crossorigin="anonymous" />
<script>
    $(document).ready(function() {
        $('#selectSemestercourses').select2()
        $('#selectSemestercourses').on('select2:select', function (e) {
            var sel = document.getElementById('selectSemestercourses');
            window.open(sel.value,"_self");
            sel.selectedIndex = null;
        });
    });
</script>
<style>
    .content {
        padding-top: 1em;
        padding-bottom: 1em;
        text-align: center;
    }
    #actual-contents {
        display: inline-block;
        margin: 0 auto;
        text-align: left;
    }
</style>
{% endblock %}

{% block heading %}Exam Archive{% endblock %}

{% block content %}
<div id="actual-contents">
    <center>
        <select id="selectSemestercourses" style="width: 300px">
            <option selected disabled="true">--- Search for Course ---</option>
            {% for coursesemester in searchCourses %}
            <option value="/exams/course/{{ coursesemester.course.department.abbreviated_name }}/{{ coursesemester.course.number }}/?term={{ coursesemester.semester.semester }}">{{coursesemester.semester.semester}} {{coursesemester.course.department.abbreviated_name}} {{coursesemester.course.number}}</option>
            {% endfor %}
        </select>
    </center>
    <br>
    Browse by department:

    <h1>Computer Science</h1>
    <ul>
        {% for course in courses %}
            {% if course.department.abbreviated_name == 'CS' %}
                <li>
                    <a href="/exams/course/CS/{{ course.number }}/">CS {{ course.number }}</a>
                </li>
            {% endif %}
        {% endfor %}
    </ul>

    <h1>Electrical Engineering</h1>

    <ul>
        {% for course in courses %}
            {% if course.department.abbreviated_name == 'EE' %}
                <li>
                    <a href="/exams/course/EE/{{ course.number }}/">EE {{ course.number }}</a>
                </li>
            {% endif %}
        {% endfor %}
    </ul>

    <h1>Electrical Engineering and Computer Science (EECS)</h1>

    <ul>
        {% for course in courses %}
            {% if course.department.abbreviated_name == 'EECS' %}
                <li>
                    <a href="/exams/course/EECS/{{ course.number }}/">EECS {{ course.number }}</a>
                </li>
            {% endif %}
        {% endfor %}
    </ul>

    <!-- Add an Exam (Admin Access Only for later) -->
    {% if False %}
    <form action="new" method="GET" id="button">
        <button type='submit'>Add an Exam</button>
    </form>
    {% endif %}

</div>
{% endblock %}
